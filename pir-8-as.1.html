<!DOCTYPE html>
<html>
<head>
  <meta http-equiv='content-type' value='text/html;charset=utf8'>
  <meta name='generator' value='Ronn/v0.7.3 (http://github.com/rtomayko/ronn/tree/0.7.3)'>
  <title>pir-8-as(1) - Assembler for the pir-8</title>
  <style type='text/css' media='all'>
  /* style: man */
  body#manpage {margin:0}
  .mp {max-width:100ex;padding:0 9ex 1ex 4ex}
  .mp p,.mp pre,.mp ul,.mp ol,.mp dl {margin:0 0 20px 0}
  .mp h2 {margin:10px 0 0 0}
  .mp > p,.mp > pre,.mp > ul,.mp > ol,.mp > dl {margin-left:8ex}
  .mp h3 {margin:0 0 0 4ex}
  .mp dt {margin:0;clear:left}
  .mp dt.flush {float:left;width:8ex}
  .mp dd {margin:0 0 0 9ex}
  .mp h1,.mp h2,.mp h3,.mp h4 {clear:left}
  .mp pre {margin-bottom:20px}
  .mp pre+h2,.mp pre+h3 {margin-top:22px}
  .mp h2+pre,.mp h3+pre {margin-top:5px}
  .mp img {display:block;margin:auto}
  .mp h1.man-title {display:none}
  .mp,.mp code,.mp pre,.mp tt,.mp kbd,.mp samp,.mp h3,.mp h4 {font-family:monospace;font-size:14px;line-height:1.42857142857143}
  .mp h2 {font-size:16px;line-height:1.25}
  .mp h1 {font-size:20px;line-height:2}
  .mp {text-align:justify;background:#fff}
  .mp,.mp code,.mp pre,.mp pre code,.mp tt,.mp kbd,.mp samp {color:#131211}
  .mp h1,.mp h2,.mp h3,.mp h4 {color:#030201}
  .mp u {text-decoration:underline}
  .mp code,.mp strong,.mp b {font-weight:bold;color:#131211}
  .mp em,.mp var {font-style:italic;color:#232221;text-decoration:none}
  .mp a,.mp a:link,.mp a:hover,.mp a code,.mp a pre,.mp a tt,.mp a kbd,.mp a samp {color:#0000ff}
  .mp b.man-ref {font-weight:normal;color:#434241}
  .mp pre {padding:0 4ex}
  .mp pre code {font-weight:normal;color:#434241}
  .mp h2+pre,h3+pre {padding-left:0}
  ol.man-decor,ol.man-decor li {margin:3px 0 10px 0;padding:0;float:left;width:33%;list-style-type:none;text-transform:uppercase;color:#999;letter-spacing:1px}
  ol.man-decor {width:100%}
  ol.man-decor li.tl {text-align:left}
  ol.man-decor li.tc {text-align:center;letter-spacing:4px}
  ol.man-decor li.tr {text-align:right;float:right}
  </style>
</head>
<!--
  The following styles are deprecated and will be removed at some point:
  div#man, div#man ol.man, div#man ol.head, div#man ol.man.

  The .man-page, .man-decor, .man-head, .man-foot, .man-title, and
  .man-navigation should be used instead.
-->
<body id='manpage'>
  <div class='mp' id='man'>

  <div class='man-navigation' style='display:none'>
    <a href="#NAME">NAME</a>
    <a href="#SYNOPSIS">SYNOPSIS</a>
    <a href="#DESCRIPTION">DESCRIPTION</a>
    <a href="#DIRECTIVES">DIRECTIVES</a>
    <a href="#OPTIONS">OPTIONS</a>
    <a href="#Exit-values">Exit values</a>
    <a href="#AUTHOR">AUTHOR</a>
    <a href="#SPECIAL-THANKS">SPECIAL THANKS</a>
    <a href="#REPORTING-BUGS">REPORTING BUGS</a>
    <a href="#SEE-ALSO">SEE ALSO</a>
  </div>

  <ol class='man-decor man-head man head'>
    <li class='tl'>pir-8-as(1)</li>
    <li class='tc'></li>
    <li class='tr'>pir-8-as(1)</li>
  </ol>

  <h2 id="NAME">NAME</h2>
<p class="man-name">
  <code>pir-8-as</code> - <span class="man-whatis">Assembler for the pir-8</span>
</p>

<h2 id="SYNOPSIS">SYNOPSIS</h2>

<p><code>pir-8-as</code> [OPTIONS] [ASMFILE...]</p>

<h2 id="DESCRIPTION">DESCRIPTION</h2>

<p>Assembler for the pir-8.</p>

<p>Specified input files (or "-" for stdin) are assembled sequentially into the output file.</p>

<p>The comment characer is ";".</p>

<p>The assembly format is as follows:</p>

<ul>
<li>1 instruction per line, or</li>
<li>if an instruction required data, each line afterward
will be attempted to be parsed as data therefor.</li>
</ul>


<p>And so, all of these are equivalent:</p>

<pre><code>LOAD IND A
0x0110

LOAD IND A
0b0000_0001_0001_0000

0x24
0o420

36
272
</code></pre>

<h2 id="DIRECTIVES">DIRECTIVES</h2>

<p>Start with a colon, not limited to ASCII:</p>

<p>  :origin <var>ADDRESS</var></p>

<pre><code>The first instruction starts at ADDRESS, all previous bytes are zeroed

Using this more than once or after having already processed an instruction will yield an error
</code></pre>

<p>  :label save <var>NAME</var></p>

<pre><code>Save the current output address to be recalled anywhere else in the program assembly
</code></pre>

<p>  :label load <var>NAME</var></p>

<pre><code>Substitute the output address of previously saved label called NAME in this place

If the NAME label wasn't yet specified, output will be buffered until it's declared

Using this when the current instruction isn't expecting two data bytes will yield an error

Having specified this with a NAME without a corresponding :label save directive will yield an error
</code></pre>

<p>  :label load-offset <var>NAME</var> <var>OFFSET</var></p>

<pre><code>Like :label load NAME, but add (signed) OFFSET afterwards

The resulting address will wrap around both sides
</code></pre>

<h2 id="OPTIONS">OPTIONS</h2>

<p>  -o BINFILE</p>

<pre><code>Name of the the binary-file output, or "-" for stdout

Parent directory must exist

Default: "a.p8b"
</code></pre>

<p>  -r REGISTER_LETTERS</p>

<pre><code>Use REGISTER_LETTERS as the letters for the registers
in the general-purpose bank instead of the defaults,
as specified in the ISA

Must be 8-ASCII-characters-long
</code></pre>

<h2 id="Exit-values">Exit values</h2>

<pre><code>1 - option parsing error
2 - output file creation failure
3 - input file opening failure
4 - output write failure
5 - input read failure
6 - instruction parse error
7 - instruction data parse error
8 - invalid directive or directive obey error
9 - unfound labels remain
</code></pre>

<h2 id="AUTHOR">AUTHOR</h2>

<p>Written by nabijaczleweli &lt;<a href="&#x6d;&#x61;&#105;&#x6c;&#x74;&#111;&#x3a;&#110;&#97;&#x62;&#105;&#x6a;&#97;&#99;&#x7a;&#108;&#101;&#x77;&#101;&#108;&#105;&#64;&#103;&#109;&#x61;&#x69;&#x6c;&#x2e;&#x63;&#111;&#109;" data-bare-link="true">&#110;&#x61;&#98;&#x69;&#106;&#x61;&#99;&#122;&#x6c;&#x65;&#119;&#101;&#x6c;&#105;&#x40;&#x67;&#x6d;&#97;&#x69;&#x6c;&#46;&#99;&#x6f;&#x6d;</a>&gt;</p>

<h2 id="SPECIAL-THANKS">SPECIAL THANKS</h2>

<p>To all who support further development, in particular:</p>

<ul>
<li>ThePhD</li>
</ul>


<h2 id="REPORTING-BUGS">REPORTING BUGS</h2>

<p>&lt;<a href="https://github.com/LoungeCPP/pir-8-emu/issues" data-bare-link="true">https://github.com/LoungeCPP/pir-8-emu/issues</a>&gt;</p>

<h2 id="SEE-ALSO">SEE ALSO</h2>

<p>&lt;<a href="https://github.com/LoungeCPP/pir-8-emu" data-bare-link="true">https://github.com/LoungeCPP/pir-8-emu</a>&gt;</p>


  <ol class='man-decor man-foot man foot'>
    <li class='tl'>Lounge&lt;C++&gt;</li>
    <li class='tc'>July 2019</li>
    <li class='tr'>pir-8-as(1)</li>
  </ol>

  </div>
</body>
</html>
