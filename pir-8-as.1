.\" generated with Ronn/v0.7.3
.\" http://github.com/rtomayko/ronn/tree/0.7.3
.
.TH "PIR\-8\-AS" "1" "February 2020" "Lounge<C++>" ""
.
.SH "NAME"
\fBpir\-8\-as\fR \- Assembler for the pir\-8
.
.SH "SYNOPSIS"
\fBpir\-8\-as\fR [OPTIONS] [ASMFILE\.\.\.]
.
.SH "DESCRIPTION"
Assembler for the pir\-8\.
.
.P
Specified input files (or "\-" for stdin) are assembled sequentially into the output file\.
.
.P
The comment characer is ";"\.
.
.P
The assembly format is as follows:
.
.IP "\(bu" 4
1 instruction per line, or
.
.IP "\(bu" 4
if an instruction required data, each line afterward will be attempted to be parsed as data therefor\.
.
.IP "" 0
.
.P
And so, all of these are equivalent:
.
.IP "" 4
.
.nf

LOAD IND A
0x0110

LOAD IND A
0b0000_0001_0001_0000

0x24
0o420

36
272
.
.fi
.
.IP "" 0
.
.SH "DIRECTIVES"
Start with a colon, not limited to ASCII:
.
.P
:origin \fIADDRESS\fR
.
.IP "" 4
.
.nf

The first instruction starts at ADDRESS, all previous bytes are zeroed

Using this more than once or after having already processed an instruction will yield an error
.
.fi
.
.IP "" 0
.
.P
:label save \fINAME\fR
.
.IP "" 4
.
.nf

Save the current output address to be recalled anywhere else in the program assembly
.
.fi
.
.IP "" 0
.
.P
:label load \fINAME\fR
.
.IP "" 4
.
.nf

Substitute the output address of previously saved label called NAME in this place

If the NAME label wasn\'t yet specified, output will be buffered until it\'s declared

Using this when the current instruction isn\'t expecting two data bytes will yield an error

Having specified this with a NAME without a corresponding :label save directive will yield an error
.
.fi
.
.IP "" 0
.
.P
:label load\-offset \fINAME\fR \fIOFFSET\fR
.
.IP "" 4
.
.nf

Like :label load NAME, but add (signed) OFFSET afterwards

The resulting address will wrap around both sides
.
.fi
.
.IP "" 0
.
.P
:literal "\fISTRING\fR"
.
.IP "" 4
.
.nf

Insert STRING into the output

Using this when the current instruction is expecting data will yield an error
.
.fi
.
.IP "" 0
.
.SH "OPTIONS"
\-o BINFILE
.
.IP "" 4
.
.nf

Name of the the binary\-file output, or "\-" for stdout

Parent directory must exist

Default: "a\.p8b"
.
.fi
.
.IP "" 0
.
.P
\-r REGISTER_LETTERS
.
.IP "" 4
.
.nf

Use REGISTER_LETTERS as the letters for the registers
in the general\-purpose bank instead of the defaults,
as specified in the ISA

Must be 8\-ASCII\-characters\-long
.
.fi
.
.IP "" 0
.
.SH "EXIT VALUES"
.
.nf

1 \- option parsing error
2 \- output file creation failure
3 \- input file opening failure
4 \- output write failure
5 \- input read failure
6 \- instruction parse error
7 \- instruction data parse error
8 \- invalid directive or directive obey error
9 \- unfound labels remain
.
.fi
.
.SH "AUTHOR"
Written by nabijaczleweli <\fInabijaczleweli@gmail\.com\fR>
.
.SH "SPECIAL THANKS"
To all who support further development, in particular:
.
.IP "\(bu" 4
ThePhD
.
.IP "" 0
.
.SH "REPORTING BUGS"
<\fIhttps://github\.com/LoungeCPP/pir\-8\-emu/issues\fR>
.
.SH "SEE ALSO"
<\fIhttps://github\.com/LoungeCPP/pir\-8\-emu\fR>
